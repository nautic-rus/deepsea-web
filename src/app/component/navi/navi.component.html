<div class="top-panel">
  <div class="cy ml-1">
    <a href="https://deep-sea.ru/"><img class="cursor-pointer" src="assets/deepsea_white.svg" height="30"></a>
  </div>
  <div>
    <div class="df" *ngIf="weather.description != ''">
      <div class="mx-1 time cy">
        {{getTime()}}
      </div>
      <div class="mx-1 weather">
        <div class="df">
          <div class="mx-1 cy">
            <div>
              <img src="{{'https://openweathermap.org/img/wn/' + weather.icon + '.png'}}">
            </div>
            <div>{{weather.description}}</div>
          </div>
          <div class="mx-1 cy">
            <div>Temp: {{weather.temp}} °C</div>
            <div>Feels like: {{weather.feels_like}} °C</div>
            <div>Wind: {{weather.wind}} m/s</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="cxy">
    <div (click)="t.switchLang()">
      <img *ngIf="t.language == 'ru'" class="cursor-pointer" src="assets/icons/en.png">
      <img *ngIf="t.language == 'en'" class="cursor-pointer" src="assets/icons/russia.png">
    </div>
  </div>
  <div class="cxy">
    <div pTooltip="Cloud" tooltipPosition="bottom">
      <a href="https://cloud.nautic-rus.ru/" target="_blank"><img class="cursor-pointer" src="assets/icons/cloud.png"></a>
    </div>
  </div>
  <div class="cxy">
    <div pTooltip="NautucWiki" tooltipPosition="bottom">
      <a href="https://wiki.nautic-rus.ru/" target="_blank"><img class="cursor-pointer" src="assets/icons/question.png"></a>
    </div>
  </div>
  <div class="cxy">
    <div>
      <div *ngIf="isOnline()" class="image-online cursor-pointer">
        <img class="image__src" (click)="user.toggle($event)" src="{{auth.getUserAvatar(auth.getUser().login)}}" height="32" width="32" style="border-radius: 16px">
      </div>
      <div *ngIf="!isOnline()" class="image-offline cursor-pointer">
        <img class="image__src" (click)="user.toggle($event)" src="{{auth.getUserAvatar(auth.getUser().login)}}" height="32" width="32" style="border-radius: 16px">
      </div>
    </div>
    <p-overlayPanel #user [style]="{width: '240px', 'border-radius': '4px'}">
      <ng-template pTemplate>
        <div class="display-flex border-bottom all-row-user-menu">
          <div class="cxy mx-1">
            <div class="pi pi-clock"></div>
          </div>
          <div class="row-user-menu" (click)="user.hide()" routerLink="time-control">{{t.tr('Контроль времени')}}</div>
        </div>
        <div class="display-flex all-row-user-menu">
          <div class="cxy mx-1">
            <div class="pi pi-sort-alt icon-turn"></div>
          </div>
          <div class="row-user-menu" (click)="shareRights()">{{t.tr('Передать права')}}</div>
        </div>
      </ng-template>
    </p-overlayPanel>
  </div>
  <div class="exit cxy">
    <img (click)="auth.exit()" src="assets/icons/exit.png" class="cursor-pointer" [pTooltip]="t.tr('Выйти')" tooltipPosition="bottom">
  </div>
  <div></div>
</div>
<div class="left-panel">
  <div *ngIf="auth.getUser().visible_pages.includes('home')" class="mx-20 mb-10 menu" routerLink="" routerLinkActive="selected-menu" [routerLinkActiveOptions]= "{exact: true}" queryParamsHandling="merge">
    <div class="menu-pic">
      <img src="assets/icons/home1.svg" height="17">
    </div>
    <div class="cy">{{t.tr('МОЯ СТРАНИЦА')}}</div>
  </div>
<!--  <div [class.hidden-menu]="auth.getUser().visibility.includes('t')" class="cy menu" routerLink="materials" routerLinkActive="selected-menu" queryParamsHandling="merge">-->
<!--    <div class="cxy">-->
<!--      <img src="assets/icons/materials.svg" height="30">-->
<!--    </div>-->
<!--    <div class="cxy mt-10">{{t.tr('МАТЕРИАЛЫ')}}</div>-->
<!--  </div>-->
  <div *ngIf="auth.getUser().visible_pages.includes('documents')" class="mx-20 mb-10 menu" routerLink="documents" routerLinkActive="selected-menu" queryParamsHandling="merge">
    <div class="menu-pic">
      <img src="assets/icons/docs.svg" height="17">
    </div>
    <div class="cy">{{t.tr('ДОКУМЕНТЫ')}}</div>
  </div>
<!--  <div class="cy menu" routerLink="gantt" routerLinkActive="selected-menu">-->
<!--    <div class="cxy">-->
<!--      <img src="assets/icons/chart-gantt.svg" height="27">-->
<!--    </div>-->
<!--    <div class="cxy text-center mt-10">ГАНТ</div>-->
<!--  </div>-->
  <div *ngIf="auth.getUser().visibility.includes('z')" class="mx-20 mb-10 menu" routerLink="employees" routerLinkActive="selected-menu" queryParamsHandling="merge">
    <div class="menu-pic">
      <img src="assets/icons/employees.svg" height="20">
    </div>
    <div class="cy">{{t.tr('СОТРУДНИКИ')}}</div>
  </div>
<!--  <div *ngIf="auth.getUser().visible_pages.includes('documents')" class="cy menu" routerLink="doc-explorer" routerLinkActive="selected-menu" queryParamsHandling="merge">-->
<!--    <div class="cxy">-->
<!--      <img src="assets/icons/doc-explorer.png">-->
<!--    </div>-->
<!--    <div class="cxy text-center mt-10">{{t.tr('ДОКУМЕНТЫ')}}</div>-->
<!--  </div>-->
  <div *ngIf="auth.getUser().visible_pages.includes('sections')" class="mx-20 mb-10 menu" routerLink="sections" routerLinkActive="selected-menu" queryParamsHandling="merge">
    <div class="menu-pic">
      <img src="assets/icons/sections1.svg" height="17">
    </div>
    <div class="cy">{{t.tr('СЕКЦИИ')}}</div>
  </div>
  <div *ngIf="auth.getUser().visible_pages.includes('tools')" class="mx-20 mb-10 menu" routerLink="tools" routerLinkActive="selected-menu" queryParamsHandling="merge">
    <div class="menu-pic">
      <img src="assets/icons/wrench.svg" height="17">
    </div>
    <div class="">{{t.tr('ИНСТРУМЕНТЫ')}}</div>
  </div>
  <div *ngIf="auth.getUser().visible_pages.includes('labor-costs')" class="mx-20 mb-10 menu" routerLink="labor-costs" routerLinkActive="selected-menu" queryParamsHandling="merge">
    <div class="menu-pic">
      <img src="assets/icons/labor.svg" height="20">
    </div>
    <div class="cy">{{t.tr('ТРУДОЗАТРАТЫ')}}</div>
  </div>


</div>
