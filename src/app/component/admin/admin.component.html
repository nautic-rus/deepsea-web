<div *ngIf="device.isDesktop()" class="">
  <div class="all-page">
    <div class="df">
      <div class="users">
        <div class="card">
          <p-table class="users"
                   #dt
                   id="dt"
                   dataKey="id"
                   [value]="users"
                   [scrollable]="true"
                   [reorderableColumns]="true"
                   [columns]="cols"
                   [virtualScroll]="false"
                   [scrollHeight]="'78vh'"
                   [virtualRowHeight]="1"
                   stateKey="state"
                   styleClass="p-datatable-striped"
                   scrollDirection="both"
          >
            <ng-template pTemplate="caption">
              <div class="p-d-flex">
                <div class="mr-10">
                  <div class="materials-button-home blue-button cxy" (click)="newUser(null)">
                    <div class="pr-10 cxy">
                      <img src="assets/icons/plus3.svg" height="18">
                    </div>
                    <div class="cxy">{{l.tr('Новый пользователь')}}</div>
                  </div>
                </div>
                <div class="mr-10">
                  <div class="materials-button-home blue-button cxy" (click)="roles()">
                    <div class="cxy">{{l.tr('Роли')}}</div>
                  </div>
                </div>
                <span class="p-input-icon-left p-ml-auto">
            <i class="pi pi-search"></i>
            <input #search pInputText type="text" (input)="dt.filterGlobal(search.value, 'contains')" [placeholder]="l.tr('Поиск...')" class="border" />
          </span>
              </div>
            </ng-template>
            <ng-template pTemplate="header" let-columns>
              <tr>
                <th style="width:156px" pResizableColumn pReorderableColumn  *ngFor="let col of columns" [pSortableColumn]="col.field">
                  <div class="header">
                    {{l.tr(col.header)}}
                    <p-sortIcon [style]="{display: 'inline-flex'}" *ngIf="col.sort == true" [field]="col.field"></p-sortIcon>
                    <p-columnFilter class="filter" type="date" [field]="col.field" display="menu" *ngIf="col.date == true"></p-columnFilter>
                    <p-columnFilter class="filter" *ngIf="col.filter == true && col.date == false" [field]="col.field" matchMode="in" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false">
                      <ng-template pTemplate="filter" let-value let-filter="filterCallback">
                        <p-multiSelect [displaySelectedLabel]="false" [ngModel]="value" [options]="col.filters" optionValue="value" optionLabel="label" [placeholder]="l.tr('Все')" (onChange)="filter($event.value);">
                        </p-multiSelect>
                      </ng-template>
                    </p-columnFilter>
                  </div>
                </th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-columns="columns" let-user>
              <tr class="task-row" >
                <td style="width:156px" class="cursor-pointer" *ngFor="let col of columns">
                  <div *ngIf="col.skip == false && col.field != 'ready'"><div [innerHTML]="localeColumn(this.user[col.field], col.field, this.user) | safeHtml"></div></div>
                  <!--              <div *ngIf="col.skip && col.field != 'ready'" [innerHTML]="col.defaultValue"></div>-->
                </td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </div>
<!--      <div class="roles card2">-->
<!--        <div >MEOW</div>-->
<!--      </div>-->
<!--      <div class="projects card2">-->
<!--        <div >MEOW</div>-->
<!--      </div>-->
      <div class="right" >
       <div class="roles card2">
         <div >MEOW</div>
       </div>
        <div class="projects card2">
          <div >MEOW</div>
        </div>
      </div>
    </div>
  </div>
</div>
<p-toast position="bottom-center"></p-toast>

