<div class="upload-multiple-files">
  <div class="cx mb-2 title">Загрузка файлов</div>
  <div class="df">
    <div class="file-groups">
      <div class="mb-15" *ngFor="let fileGroup of fileGroups">
        <p-fieldset legend="{{fileGroup.name}}" [toggleable]="true" [collapsed]="getRevisionFilesOfGroup(fileGroup.name).length == 0 || fileGroup.collapsed">
          <div>
            <div class="df">
              <div class="button-details df cursor-pointer mb-15" (click)="addFilesToGroup(fileGroup.name)">
                <div class="cxy">
                  <img src="assets/icons/plus1.svg" height="16">
                </div>
                <div class="cy ml-1">Add files</div>
              </div>
            </div>
            <div *ngIf="getRevisionFilesOfGroup(fileGroup.name).length != 0">
              <div *ngFor="let file of getRevisionFilesOfGroup(fileGroup.name)">
                <div  class="attachment-files df mb-6 cursor-pointer">
                  <div class="cxy">
                    <img [src]="'assets/task/' + getFileExtensionIcon(file.name)" height="25"/>
                  </div>
                  <span class="file-name-esp mx-10 cy">{{trimFileName(file.name, 22) + ' '}}</span>
                  <span class="cy">{{' ' + getDate(file.upload_date)}}</span>
                  <div class="cxy" (click)="openFile(file)">
                    <svg class="icon-nest" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24">
                      <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
                    </svg>
                  </div>
                  <div class="cxy" (click)="deleteFile(file.url)">
                    <svg class="icon-nest" xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24">
                      <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </p-fieldset>
      </div>
    </div>
    <div class="options">
      <div class="mr-10 cy my-5">
        <label class="container margin-bottom-none">
          <span class="text-checkbox">Корректировка</span>
          <input type="checkbox" [(ngModel)]="isCorrection">
          <span class="checkmark"></span>
        </label>
      </div>
      <div class="mr-10 cy my-5">
        <label class="container margin-bottom-none">
          <span class="text-checkbox">Уведомить</span>
          <input type="checkbox" [(ngModel)]="isSendNotification">
          <span class="checkmark"></span>
        </label>
      </div>
      <div class="my-5">
        <div class="pb-5">
          Комментарий
        </div>
        <div class="">
          <textarea [(ngModel)]="comment" rows="3" cols="35" pInputTextarea [autoResize]="true"></textarea>
        </div>
      </div>
      <div class="mb-2">
        <div class="w-45">
          Ревизия
          <p-dropdown [disabled]="changeRev" appendTo = "body" [(ngModel)]="rev" [options]="revs" styleClass="w-100 h-32 cxy">
          </p-dropdown>
        </div>
      </div>

      <div class="df">
        <div class="mr-1 cx">
          <div tabindex="10" (click)="commit()" pButton [label]="'Отправить'" class="button-ok"></div>
        </div>
        <div tabindex="11" (click)="close()" pButton [label]="'Отмена'" class="button-cancel ml-1"></div>
      </div>
    </div>
  </div>
</div>
