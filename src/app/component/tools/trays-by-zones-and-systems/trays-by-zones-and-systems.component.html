<div class="all-page" xmlns="http://www.w3.org/1999/html">
  <div class="card card-page">
    <div *ngIf="trays.length == 0">
      <div class="cxy">
        <div class="cxy card-height">
          <img src="assets/whale.gif" height="120">
          <div class="cx loading-text">PLEASE WAIT...</div>
        </div>
      </div>
    </div>
    <div class="top-line"></div>
    <div class="table-header cursor-pointer" *ngIf="trays.length > 0">
      <div class="w-3 table-header-col cy"></div>
      <div class="w-5 table-header-col cy">{{l.tr('Label')}}</div>
      <div class="w-15 table-header-col cy">{{l.tr('TRM')}}</div>
      <div class="w-32 table-header-col cy">Название, описание</div>
      <div class="w-7 table-header-col cy">{{l.tr('Вес')}}</div>
      <div class="w-14 table-header-col cy">{{l.tr('Координаты')}}</div>
      <div class="w-14 table-header-col cy">{{l.tr('Длина')}}</div>
      <div class="w-10 table-header-col cy">{{l.tr('?')}}</div>
    </div>
    <div *ngFor="let group of grouped; let i = index">
      <div class="df table-row cursor-pointer" *ngIf="group.length > 1" [collapse]="groupSupportsMultiple" (click)="contentClick('approval' + i)">
        <div class="w-3 table-body cy">
          <div class="cy arrow-up" [class.arrow-down]="collapsed.includes('approval' + i)">
            <img src="assets/icons/arrow-r.svg" height="14">
          </div>
        </div>
        <div class="w-5 table-body cy">{{group[0].mountData.label}}</div>
        <div class="w-15 table-body cy">{{group[0].mountData.trmCode}}</div>
        <div class="w-32 table-body cy">{{group[0].workShopMaterial.name}}<br>{{group[0].workShopMaterial.description}}</div>
        <div class="w-7 table-body cy"></div>
        <div class="w-14 table-body cy"></div>
        <div class="w-14 table-body cy"></div>
        <div class="w-10 table-body cy"></div>
      </div>
      <div class="group" collapseContent #groupSupportsMultiple="collapseContent" [hidden]="group[0].supports.length == 0">
        <div *ngFor="let tray of group">
          <div class="df table-row cursor-pointer" [collapse]="traySupports">
            <div class="w-3 table-body cy"></div>
            <div class="w-5 table-body cy">{{tray.mountData.label}}</div>
            <div class="w-15 table-body cy">{{tray.mountData.trmCode}}</div>
            <div class="w-32 table-body cy">{{tray.workShopMaterial.name}}<br>{{tray.workShopMaterial.description}}</div>
            <div class="w-7 table-body cy">{{tray.workShopMaterial.singleWeight}}</div>
            <div class="w-14 table-body cy">
              <div class="table-body-bold-text">X1:<span class="normal-weight">{{' ' + tray.foranTray.N1X}}</span></div>
              <div class="table-body-bold-text">Y1:<span class="normal-weight">{{' ' + tray.foranTray.N1Y}}</span></div>
              <div class="table-body-bold-text">Z1:<span class="normal-weight">{{' ' + tray.foranTray.N1Z}}</span></div>
              <div class="table-body-bold-text">X2:<span class="normal-weight">{{' ' + tray.foranTray.N2X}}</span></div>
              <div class="table-body-bold-text">Y2:<span class="normal-weight">{{' ' + tray.foranTray.N2Y}}</span></div>
              <div class="table-body-bold-text">Z2:<span class="normal-weight">{{' ' + tray.foranTray.N2Z}}</span></div>
            </div>
            <div class="w-14 table-body cy">{{tray.foranTray.LEN}}</div>
            <div class="w-10 table-body cy">
              {{tray.foranTray.SURFACE}}<br>{{tray.foranTray.marign}}
            </div>
          </div>
          <div collapseContent class="subgroup" #traySupports="collapseContent">
            <div class="table-header-support cursor-pointer">
              <div class="w-5 table-header-col cy">{{l.tr('Label')}}</div>
              <div class="w-15 table-header-col cy">{{l.tr('TRM')}}</div>
              <div class="w-35 table-header-col cy">Название, описание</div>
              <div class="w-7 table-header-col cy">{{l.tr('КЕИ')}}</div>
              <div class="w-15 table-header-col cy">{{l.tr('QTY')}}</div>
              <div class="w-10 table-header-col cy">{{l.tr('Поз. на чертеже')}}</div>
            </div>
            <div *ngFor="let sup of tray.supports" class="df cursor-pointer row-support">
              <div class="w-5 table-body-support cy">{{sup.label}}</div>
              <div class="w-15 table-body-support cy">{{sup.workShopMaterial.trmCode}}</div>
              <div class="w-35 table-body-support cy">{{sup.workShopMaterial.name}}<br>{{sup.workShopMaterial.description}}</div>
              <div class="w-7 table-body-support cy">{{sup.kei}}</div>
              <div class="w-15 table-body-support cy">{{sup.qty}}</div>
              <div *ngIf="sup.isNeedLabel == true" class="w-10 table-body-support cy">да</div>
              <div *ngIf="sup.isNeedLabel == false" class="w-10 table-body-support cy">нет</div>
            </div>
          </div>
        </div>
      </div>
      <div class="df table-row cursor-pointer" *ngIf="group.length == 1" [collapse]="groupSupportsSingle">
        <div class="w-3 table-body cy"></div>
        <div class="w-5 table-body cy">{{group[0].mountData.label}}</div>
        <div class="w-15 table-body cy">{{group[0].mountData.trmCode}}</div>
        <div class="w-35 table-body cy">{{group[0].workShopMaterial.name}}<br>{{group[0].workShopMaterial.description}}</div>
        <div class="w-7 table-body cy">{{group[0].workShopMaterial.singleWeight}}</div>
        <div class="w-14 table-body cy">
          <div class="table-body-bold-text">X1:<span class="normal-weight">{{' ' + group[0].foranTray.N1X}}</span></div>
          <div class="table-body-bold-text">Y1:<span class="normal-weight">{{' ' + group[0].foranTray.N1Y}}</span></div>
          <div class="table-body-bold-text">Z1:<span class="normal-weight">{{' ' + group[0].foranTray.N1Z}}</span></div>
          <div class="table-body-bold-text">X2:<span class="normal-weight">{{' ' + group[0].foranTray.N2X}}</span></div>
          <div class="table-body-bold-text">Y2:<span class="normal-weight">{{' ' + group[0].foranTray.N2Y}}</span></div>
          <div class="table-body-bold-text">Z2:<span class="normal-weight">{{' ' + group[0].foranTray.N2Z}}</span></div>
        </div>
        <div class="w-14 table-body cy">{{group[0].foranTray.LEN}}</div>
        <div class="w-10 table-body cy">
          {{group[0].foranTray.SURFACE}}<br>{{group[0].foranTray.marign}}
        </div>
      </div>
      <div collapseContent #groupSupportsSingle="collapseContent" [hidden]="group[0].supports.length == 0">
        <div class="table-header-support cursor-pointer">
          <div class="w-5 table-header-col cy">{{l.tr('Label')}}</div>
          <div class="w-15 table-header-col cy">{{l.tr('TRM')}}</div>
          <div class="w-35 table-header-col cy">Название, описание</div>
          <div class="w-7 table-header-col cy">{{l.tr('КЕИ')}}</div>
          <div class="w-15 table-header-col cy">{{l.tr('QTY')}}</div>
          <div class="w-10 table-header-col cy">{{l.tr('Поз. на чертеже')}}</div>
        </div>
        <div *ngFor="let sup of group[0].supports" class="df cursor-pointer row-support">
          <div class="w-5 table-body-support cy">{{sup.label}}</div>
          <div class="w-15 table-body-support cy">{{sup.workShopMaterial.trmCode}}</div>
          <div class="w-35 table-body-support cy">{{sup.workShopMaterial.name}}<br>{{sup.workShopMaterial.description}}</div>
          <div class="w-7 table-body-support cy">{{sup.kei}}</div>
          <div class="w-15 table-body-support cy">{{sup.qty}}</div>
          <div *ngIf="sup.isNeedLabel == true" class="w-10 table-body-support cy">да</div>
          <div *ngIf="sup.isNeedLabel == false" class="w-10 table-body-support cy">нет</div>
        </div>
      </div>



      <!--      <div collapseContent #traySupports="collapseContent">-->
<!--        <div class="table-header-support cursor-pointer">-->
<!--          <div class="w-5 table-header-col cy">{{l.tr('Label')}}</div>-->
<!--          <div class="w-15 table-header-col cy">{{l.tr('TRM')}}</div>-->
<!--          <div class="w-35 table-header-col cy">Название, описание</div>-->
<!--          <div class="w-7 table-header-col cy">{{l.tr('КЕИ')}}</div>-->
<!--          <div class="w-15 table-header-col cy">{{l.tr('QTY')}}</div>-->
<!--          <div class="w-10 table-header-col cy">{{l.tr('Поз. на чертеже')}}</div>-->
<!--        </div>-->
<!--        <div *ngFor="let sup of tray.supports" class="df cursor-pointer row-support">-->
<!--          <div class="w-5 table-body-support cy">{{sup.label}}</div>-->
<!--          <div class="w-15 table-body-support cy">{{sup.workShopMaterial.trmCode}}</div>-->
<!--          <div class="w-35 table-body-support cy">{{sup.workShopMaterial.name}}<br>{{sup.workShopMaterial.description}}</div>-->
<!--          <div class="w-7 table-body-support cy">{{sup.kei}}</div>-->
<!--          <div class="w-15 table-body-support cy">{{sup.qty}}</div>-->
<!--          <div *ngIf="sup.isNeedLabel == true" class="w-10 table-body-support cy">да</div>-->
<!--          <div *ngIf="sup.isNeedLabel == false" class="w-10 table-body-support cy">нет</div>-->
<!--        </div>-->
<!--      </div>-->
    </div>
<!--    <div *ngFor="let tray of trays">-->
<!--      <div class="df table-row cursor-pointer" [collapse]="traySupports">-->
<!--        <div class="w-5 table-body cy">{{tray.mountData.label}}</div>-->
<!--        <div class="w-15 table-body cy">{{tray.mountData.trmCode}}</div>-->
<!--        <div class="w-35 table-body cy">{{tray.workShopMaterial.name}}<br>{{tray.workShopMaterial.description}}</div>-->
<!--        <div class="w-7 table-body cy">{{tray.workShopMaterial.singleWeight}}</div>-->
<!--        <div class="w-14 table-body cy">-->
<!--          <div class="table-body-bold-text">X1:<span class="normal-weight">{{' ' + tray.foranTray.N1X}}</span></div>-->
<!--          <div class="table-body-bold-text">Y1:<span class="normal-weight">{{' ' + tray.foranTray.N1Y}}</span></div>-->
<!--          <div class="table-body-bold-text">Z1:<span class="normal-weight">{{' ' + tray.foranTray.N1Z}}</span></div>-->
<!--          <div class="table-body-bold-text">X2:<span class="normal-weight">{{' ' + tray.foranTray.N2X}}</span></div>-->
<!--          <div class="table-body-bold-text">Y2:<span class="normal-weight">{{' ' + tray.foranTray.N2Y}}</span></div>-->
<!--          <div class="table-body-bold-text">Z2:<span class="normal-weight">{{' ' + tray.foranTray.N2Z}}</span></div>-->
<!--        </div>-->
<!--        <div class="w-14 table-body cy">{{tray.foranTray.LEN}}</div>-->
<!--        <div class="w-10 table-body cy">-->
<!--          {{tray.foranTray.SURFACE}}<br>{{tray.foranTray.marign}}-->
<!--        </div>-->
<!--      </div>-->
<!--      <div collapseContent #traySupports="collapseContent">-->
<!--        <div class="table-header-support cursor-pointer">-->
<!--          <div class="w-5 table-header-col cy">{{l.tr('Label')}}</div>-->
<!--          <div class="w-15 table-header-col cy">{{l.tr('TRM')}}</div>-->
<!--          <div class="w-35 table-header-col cy">Название, описание</div>-->
<!--          <div class="w-7 table-header-col cy">{{l.tr('КЕИ')}}</div>-->
<!--          <div class="w-15 table-header-col cy">{{l.tr('QTY')}}</div>-->
<!--          <div class="w-10 table-header-col cy">{{l.tr('Поз. на чертеже')}}</div>-->
<!--        </div>-->
<!--        <div *ngFor="let sup of tray.supports" class="df cursor-pointer row-support">-->
<!--          <div class="w-5 table-body-support cy">{{sup.label}}</div>-->
<!--          <div class="w-15 table-body-support cy">{{sup.workShopMaterial.trmCode}}</div>-->
<!--          <div class="w-35 table-body-support cy">{{sup.workShopMaterial.name}}<br>{{sup.workShopMaterial.description}}</div>-->
<!--          <div class="w-7 table-body-support cy">{{sup.kei}}</div>-->
<!--          <div class="w-15 table-body-support cy">{{sup.qty}}</div>-->
<!--          <div *ngIf="sup.isNeedLabel == true" class="w-10 table-body-support cy">да</div>-->
<!--          <div *ngIf="sup.isNeedLabel == false" class="w-10 table-body-support cy">нет</div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->

    <!--        <div>ТРЕЙ САППОРТ: </div>-->
    <!--        <div class="df" *ngFor="let sup of tray.supports">-->
    <!--          <div>{{sup.workShopMaterial.name}} | </div>-->
    <!--          <div>{{sup.mountData.label}} | </div>-->
    <!--          <div>{{sup.kei}} | </div>-->
    <!--          <div>{{sup.qty}}</div>-->
    <!--        </div>-->



  </div>
</div>
